{% extends 'bienvenido.html' %}

{% block content %}
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Verifica si hay un mensaje de error en la plantilla de Django
            const error = '{{ error }}';
            {% if error %}
                const Toast = Swal.mixin({
                    toast: true,
                    showConfirmButton: false,
                    position: 'top-end',
                    timer: 3000,
                    timerProgressBar: true,
                    didOpen: (toast) => {
                        toast.addEventListener('mouseenter', Swal.stopTimer)
                        toast.addEventListener('mouseleave', Swal.resumeTimer)
                    }
                })

                Toast.fire({
                    icon: 'error',
                    title: '{{error}}'
                })
            {% endif %}
        });
    </script>
    <main class="container">
        <div class="row">
            <div class="col-md-4 offset-md-4">
                <h1 class="text-center">Iniciar session</h1>
                <form method="POST" class="card text-bg-dark card-body">
                    {% csrf_token %}
                    <div class="input-group mb-3">
                        <label class="input-group-text" for="username"><i class="bi bi-person-circle"></i></label>
                        <input type="text" name="username" id="username" class="form-control"
                               placeholder="Escriba el usuario">
                    </div>
                    <div class="input-group mb-3">
                        <label class="input-group-text" for="password"><i class="bi bi-file-lock-fill"></i></label>
                        <input type="password" name="password" id="password" class="form-control"
                               placeholder="Escriba la contraseÃ±a">
                    </div>

                    <button class="btn btn-outline-light" type="submit">
                        Entrar
                    </button>
                </form>
            </div>
        </div>
    </main>
{% endblock %}